#=====================================================================#
#                    LibreChat Paychex Configuration                  #
#=====================================================================#
# This is a Paychex-customized version of .env.example                #
# Important Paychex-specific configuration is at the bottom           #
#=====================================================================#

#==================================================#
#               Server Configuration               #
#==================================================#

APP_TITLE=Paychex Play AI
HOST=0.0.0.0
PORT=3080

# MongoDB Connection - Will be configured by setup script
MONGO_URI=mongodb://127.0.0.1:27017/LibreChat

DOMAIN_CLIENT=http://localhost:3080
DOMAIN_SERVER=http://localhost:3080

NO_INDEX=true
TRUST_PROXY=1

#===============#
# Debug Logging #
#===============#

DEBUG_LOGGING=true
DEBUG_CONSOLE=true

#=============#
# Permissions #
#=============#

UID=1000
GID=1000

#===================================================#
#                     Endpoints                     #
#===================================================#

ENDPOINTS=azureOpenAI,custom,gptPlugins

PROXY=

#============#
# Anthropic  #
#============#

ANTHROPIC_API_KEY=user_provided
ANTHROPIC_MODELS=claude-1,claude-instant-1,claude-2

#==================================================#
#                      Search                      #
#==================================================#

SEARCH=true
MEILI_HOST=http://meilisearch:7700
MEILI_MASTER_KEY=dev-meili-master-key

#===================================================#
#                   User System                     #
#===================================================#

#========================#
#       Moderation       #
#========================#

BAN_VIOLATIONS=false
BAN_DURATION=1000 * 60 * 60 * 2
BAN_INTERVAL=20

LOGIN_VIOLATION_SCORE=1
REGISTRATION_VIOLATION_SCORE=1
CONCURRENT_VIOLATION_SCORE=1
MESSAGE_VIOLATION_SCORE=1
NON_BROWSER_VIOLATION_SCORE=20

LOGIN_MAX=7
LOGIN_WINDOW=5
REGISTER_MAX=5
REGISTER_WINDOW=60

LIMIT_CONCURRENT_MESSAGES=true
CONCURRENT_MESSAGE_MAX=2

LIMIT_MESSAGE_IP=true
MESSAGE_IP_MAX=40
MESSAGE_IP_WINDOW=1

LIMIT_MESSAGE_USER=false
MESSAGE_USER_MAX=40
MESSAGE_USER_WINDOW=1

#========================#
#        Balance         #
#========================#

CHECK_BALANCE=false

#========================#
# Registration and Login #
#========================#

ALLOW_EMAIL_LOGIN=true
ALLOW_REGISTRATION=true
ALLOW_SOCIAL_LOGIN=false
ALLOW_SOCIAL_REGISTRATION=false

SESSION_EXPIRY=1000 * 60 * 15
REFRESH_TOKEN_EXPIRY=(1000 * 60 * 60 * 24) * 7

# JWT Secrets - Will be auto-generated by setup script
JWT_SECRET=
JWT_REFRESH_SECRET=

#========================#
#   Email Password Reset #
#========================#

EMAIL_SERVICE=
EMAIL_HOST=
EMAIL_PORT=25
EMAIL_ENCRYPTION=
EMAIL_ENCRYPTION_HOSTNAME=
EMAIL_ALLOW_SELFSIGNED=
EMAIL_USERNAME=
EMAIL_PASSWORD=
EMAIL_FROM_NAME=
EMAIL_FROM=noreply@librechat.ai

#=============================================================#
#          PAYCHEX REQUIRED CONFIGURATION                     #
#=============================================================#
# Complete these settings before running LibreChat            #
# Consult internal Paychex LibreChat wiki for actual values   #
#=============================================================#

#========================#
#   Azure OpenAI (REQUIRED)
#========================#
# Primary LLM endpoint for chat functionality
# Get these values from Paychex LibreChat internal wiki

AZURE_OPENAI_API_KEY=TODO
AZURE_OPENAI_BASEURL=TODO
OPENAI_API_VERSION=2024-02-01

# Note: Model configuration is done in librechat.yaml
# The BASEURL should include: /deployments/${DEPLOYMENT_NAME}

#========================#
#   SSL Certificates     #
#========================#
# Required for connecting through Paychex corporate proxy
# Place paychex-root.pem in LibreChat root directory

NODE_EXTRA_CA_CERTS=/app/paychex-root.pem
SSL_CERT_FILE=/app/paychex-root.pem
REQUESTS_CA_BUNDLE=/app/paychex-root.pem
CURL_CA_BUNDLE=/app/paychex-root.pem
NODE_TLS_REJECT_UNAUTHORIZED=0

#========================#
#   RAG / Embeddings (REQUIRED for file uploads)
#========================#
# Required if you want users to upload and search documents
# Uses Azure OpenAI embeddings service

RAG_AZURE_OPENAI_API_KEY=TODO
RAG_AZURE_OPENAI_ENDPOINT=TODO
RAG_AZURE_OPENAI_API_VERSION=2024-02-01
EMBEDDINGS_PROVIDER=azure
EMBEDDINGS_MODEL=text-embedding-ada-002
RAG_USE_FULL_CONTEXT=true
RAG_PORT=8000
RAG_HOST=0.0.0.0
RAG_API_URL=http://rag_api:${RAG_PORT:-8000}
COLLECTION_NAME=ragcollection
ATLAS_SEARCH_INDEX=vectorindex
VECTOR_DB_TYPE=atlas-mongo
ATLAS_MONGO_DB_URI=mongodb://mongodb:27017/LibreChat

#========================#
#   OpenID / SSO (REQUIRED for Paychex SSO)
#========================#
# Required if using Paychex single sign-on
# Get these values from Paychex identity team

OPENID_CLIENT_ID=TODO
OPENID_CLIENT_SECRET=TODO
OPENID_ISSUER=TODO
OPENID_SESSION_SECRET=TODO
OPENID_SCOPE="openid profile email"
OPENID_CALLBACK_URL=/oauth/openid/callback

OPENID_BUTTON_LABEL=
OPENID_IMAGE_URL=

#========================#
#   Encryption Keys      #
#========================#
# Required for storing encrypted credentials
# Will be auto-generated by setup script if not set

CREDS_KEY=
CREDS_IV=

#========================#
#   General Settings     #
#========================#

TITLE_CONVO=true
BAN_VIOLATIONS=false

#=============================================================#
#          PAYCHEX OPTIONAL CONFIGURATION                     #
#=============================================================#
# Configure these only if you need the specific features      #
#=============================================================#

#========================#
#   Tavily Search API    #
#========================#
# Optional: Enables web search capabilities in chat
# Sign up at https://tavily.com/ or use Paychex key if available

TAVILY_API_KEY=

#========================#
#   GCP Vertex AI        #
#========================#
# Optional: Additional LLM provider via Paychex MAAS
# Get these from Paychex MAAS team if needed

GCP_VERTEXAI_API_KEY=
GCP_VERTEXAI_BASEURL=

#========================#
#   Azure AI Search      #
#========================#
# Optional: Enhanced search capabilities
# Get these from Azure portal if using this feature

AZURE_AI_SEARCH_SERVICE_ENDPOINT=
AZURE_AI_SEARCH_INDEX_NAME=
AZURE_AI_SEARCH_API_KEY=
AZURE_AI_SEARCH_API_VERSION=
AZURE_AI_SEARCH_SEARCH_OPTION_QUERY_TYPE=
AZURE_AI_SEARCH_SEARCH_OPTION_TOP=
AZURE_AI_SEARCH_SEARCH_OPTION_SELECT=

#========================#
#   DALL-E Image Generation
#========================#
# Optional: AI image generation
# Configure if you want image creation features

# DALLE_API_KEY=
# DALLE3_SYSTEM_PROMPT=
# DALLE_REVERSE_PROXY=

#========================#
#   External Services    #
#========================#
# Optional third-party integrations

# Google Search
GOOGLE_API_KEY=
GOOGLE_CSE_ID=

# SerpAPI
SERPAPI_API_KEY=

# Stable Diffusion
SD_WEBUI_URL=http://host.docker.internal:7860

# WolframAlpha
WOLFRAM_APP_ID=

# Zapier
ZAPIER_NLA_API_KEY=
